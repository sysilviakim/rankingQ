<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>1. Basic Setup • rankingQ</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="1. Basic Setup">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rankingQ</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/v1-basic-setup.html">1. Basic Setup</a></li>
    <li><a class="dropdown-item" href="../articles/v2-bias-correction.html">2. Correcting Bias in Ranking Data</a></li>
    <li><a class="dropdown-item" href="../articles/v3-analysis.html">3. Analysis of Bias-corrected Ranking Data</a></li>
    <li><a class="dropdown-item" href="../articles/v4-visualizing-rankings.html">4. Visualizing Rankings</a></li>
    <li><a class="dropdown-item" href="../articles/v5-uniformity-test.html">5. Uniformity Tests</a></li>
    <li><a class="dropdown-item" href="../articles/v6-simulate-data.html">6. Simulating Ranking Data</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/sysilviakim/rankingQ/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>1. Basic Setup</h1>
                        <h4 data-toc-skip class="author">Yuki Atsusaka
and Seo-young Silvia Kim</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/sysilviakim/rankingQ/blob/main/vignettes/v1-basic-setup.Rmd" class="external-link"><code>vignettes/v1-basic-setup.Rmd</code></a></small>
      <div class="d-none name"><code>v1-basic-setup.Rmd</code></div>
    </div>

    
    
<p>In this vignette, we show what the typical input data look like for
the <code>rankingQ</code> package using the <code>identity</code>
dataset.</p>
<p><code>rankingQ</code> assumes a dataset that contains (1) responses
to ranking questions with <code>J</code> items and (2) a binary
indicator for whether each respondent provides the correct answer to an
anchor-ranking question—an auxiliary ranking question whose correct
answer(s) are known to researchers. For example, the package features a
dataset <code>identity</code>, which stores real-world survey responses
to a question that asks 1,082 respondents to rank four sources of
identity (partisanship, race, gender, and religion) based on their
relative importance to them.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/sysilviakim/rankingQ" class="external-link">rankingQ</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Registered S3 method overwritten by 'GGally':</span></span>
<span><span class="co">#&gt;   method from   </span></span>
<span><span class="co">#&gt;   +.gg   ggplot2</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"identity"</span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="target-ranking-question">Target ranking question<a class="anchor" aria-label="anchor" href="#target-ranking-question"></a>
</h2>
<p>Ranking data are expected to be in the wide format, where multiple
columns are used to represent different items and their values represent
the items’ marginal ranks.</p>
<p>For example, in <code>identity</code>, the four sources of identity
are <code>app_party</code>, <code>app_religion</code>,
<code>app_gender</code>, and <code>app_race.</code> For example, the
first respondent ranked party first, gender second, race third, and
religion fourth—i.e., “1423” is the respondent’s outcome, given the
reference choice set of party-religion-gender-race/ethnicity.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">identity</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 16</span></span></span>
<span><span class="co">#&gt;   s_weight app_identity app_identity_1 app_identity_2 app_identity_3</span></span>
<span><span class="co">#&gt;      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                 <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>    0.844 1423                      1              4              2</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>    0.886 1423                      1              4              2</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>    2.96  3412                      3              4              1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>    0.987 1423                      1              4              2</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>    1.76  4132                      4              1              3</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span>    0.469 3124                      3              1              2</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 11 more variables: app_identity_4 &lt;dbl&gt;, anc_identity &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   anc_identity_1 &lt;dbl&gt;, anc_identity_2 &lt;dbl&gt;, anc_identity_3 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   anc_identity_4 &lt;dbl&gt;, anc_correct_identity &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   app_identity_recorded &lt;chr&gt;, anc_identity_recorded &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   app_identity_row_rnd &lt;chr&gt;, anc_identity_row_rnd &lt;chr&gt;</span></span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="anchor-ranking-question">Anchor ranking question<a class="anchor" aria-label="anchor" href="#anchor-ranking-question"></a>
</h2>
<p>To perform bias correction, the data must have what we call the
anchor ranking question. The anchor question is an auxiliary ranking
question that looks similar to the target question, whose “correct”
answer is known to researchers. For example, <code>identity</code> has
responses to the anchor question that asked respondents to rank order
four levels of government: house, state, municipal, and school board.
These responses are included in <code>anc_house</code>,
<code>anc_neighborhood</code>, <code>anc_city</code>, and
<code>anc_state.</code> Here, the correct answer is assumed to be
“1234.” Based on theses responses, we code an indicator variable
(<code>anc_correct_identity</code>) that takes 1 if respondents offer
the correct answer and 0 otherwise.</p>
<p>For example, in the following dataset, the first and third respondent
has provided a “wrong” answer for the anchor question, whereas the rest
of them have provided the correct answer.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">identity</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"anc_identity_"</span>, <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span>, <span class="st">"anc_correct_identity"</span><span class="op">)</span><span class="op">]</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 5</span></span></span>
<span><span class="co">#&gt;   anc_identity_1 anc_identity_2 anc_identity_3 anc_identity_4</span></span>
<span><span class="co">#&gt;            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>              3              1              2              4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>              1              2              3              4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>              4              3              2              1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>              1              2              3              4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>              1              2              3              4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span>              1              2              3              4</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 1 more variable: anc_correct_identity &lt;dbl&gt;</span></span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://sysilviakim.com" class="external-link">Seo-young Silvia Kim</a>, <a href="https://atsusaka.org" class="external-link">Yuki Atsusaka</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
